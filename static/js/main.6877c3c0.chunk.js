(this["webpackJsonpjohn-maxtrack-test"]=this["webpackJsonpjohn-maxtrack-test"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logo.86ff7c17.svg"},40:function(e,t,a){e.exports=a(69)},45:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(34),c=a.n(i),l=a(1),o=a(2),s=a(3),u=a(4),m=a(5),d=(a(45),a(13)),p=a(10),h=a(7),v=a(11),b=a(17),f=a.n(b);function g(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 70vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return g=function(){return e},e}var E=v.a.img(g()),j=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section hero is-light"},r.a.createElement("div",{className:"container content"},r.a.createElement(h.b,{to:"/",className:"title"},r.a.createElement("figure",{className:"image"},r.a.createElement(E,{src:f.a,alt:"The Movie Data Base"}))),r.a.createElement("h2",{className:"subtitle is-4"},"Explore a maior base de Filmes e S\xe9ries do mundo.")))}}]),a}(n.Component),O=a(12),y=a(38),w={api_key:"45129d55e5eafcb9c7e856e9b77837d9",include_adult:!1},N=a.n(y).a.create({baseURL:"https://api.themoviedb.org/3/"}),k=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={query:""},n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.updateInput=n.updateInput.bind(Object(d.a)(n)),n}return Object(o.a)(a,[{key:"updateInput",value:function(e){this.setState({query:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),N.get("search/multi",{params:Object(O.a)({},w,{query:this.state.query,page:1,include_adult:!1})}).then((function(e){t.props.handleSubmit(e.data.results)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"section columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"container has-text-centered content"},r.a.createElement("h5",null,"Busque um filme, s\xe9rie ou artista"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field has-addons has-addons-centered"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.updateInput,className:"input is-medium is-rounded",type:"text",name:"busca",placeholder:"Digite algo..."})),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"button is-warning is-medium is-rounded",type:"submit",value:"Buscar"})))))))}}]),a}(n.Component),_=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.mediaData;return r.a.createElement("div",{className:"media"},r.a.createElement(h.b,{to:e.mediaLink},r.a.createElement("figure",{className:"media-left"},r.a.createElement("p",{className:"image is-64x64"},r.a.createElement("img",{src:e.mediaImg,alt:e.mediaAlt})))),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,r.a.createElement(h.b,{to:e.mediaLink},r.a.createElement("strong",null,e.mediaTitle)),r.a.createElement("br",null),r.a.createElement("small",null,e.mediaSubtitle),r.a.createElement("br",null),e.mediaContent))),r.a.createElement("div",{className:"media-right"},r.a.createElement(h.b,{to:e.mediaLink},r.a.createElement("button",{className:"button is-small is-warning"},"Veja mais"))))}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.filmData.map((function(e,t){e.img=e.poster_path||e.profile_path?"https://image.tmdb.org/t/p/w92"+(e.poster_path||e.profile_path):"/unavailable.jpg",e.displayTitle=e.title||e.name;var a={mediaImg:e.img,mediaAlt:"".concat(e.displayTitle," Poster"),mediaTitle:e.displayTitle,mediaSubtitle:e.media_type,mediaContent:e.overview,mediaLink:"/".concat(e.media_type,"/").concat(e.id)};return r.a.createElement(_,{mediaData:a,key:t})}));return r.a.createElement("section",{className:"section container content"},e)}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleHomeSubmit=n.handleHomeSubmit.bind(Object(d.a)(n)),n.state={loading:!1,error:null,films:[]},n}return Object(o.a)(a,[{key:"handleHomeSubmit",value:function(e){this.setState({films:e})}},{key:"render",value:function(){var e=this.state.films;return r.a.createElement(n.Fragment,null,r.a.createElement(j,null),r.a.createElement(k,{handleSubmit:this.handleHomeSubmit}),r.a.createElement(L,{filmData:e}))}}]),a}(n.Component),x=a(22),C=a.n(x),D=a(39),A=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section has-text-centered"},r.a.createElement("div",{className:"loading"},r.a.createElement("div",null),r.a.createElement("div",null)))}}]),a}(n.Component);function T(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return T=function(){return e},e}var I=v.a.img(T()),W=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data;return this.props.isLoading?r.a.createElement(A,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(I,{src:e.poster_url,alt:e.title,className:"is-pulled-right"}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,r.a.createElement("b",null,"Lan\xe7amento"),": ",e.release_date),r.a.createElement("p",null,r.a.createElement("b",null,"Avalia\xe7\xe3o"),": ",e.vote_average)))}}]),a}(n.Component);function M(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return M=function(){return e},e}var q=v.a.img(M()),B=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data;return this.props.isLoading?r.a.createElement(A,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(q,{src:e.poster_url,alt:e.name,className:"is-pulled-right"}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,r.a.createElement("b",null,"Lan\xe7amento:")," ",e.first_air_date),r.a.createElement("p",null,r.a.createElement("b",null,"N\xfamero de temporadas:")," ",e.number_of_seasons)))}}]),a}(n.Component);function H(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return H=function(){return e},e}var U=v.a.img(H());var R=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e&&function(e){var t=Date.now()-e,a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}(Date.parse(e.birthday)),a=this.props.lastMovie;return this.props.isLoading?r.a.createElement(A,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(U,{src:e.poster_url,alt:e.name,className:"is-pulled-right"}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,r.a.createElement("b",null,"Idade:")," ",t),r.a.createElement("p",null,r.a.createElement("b",null,"\xdaltimo filme:"),a&&a.original_title)))}}]),a}(n.Component);function F(){var e=Object(p.a)(["\n  width:112px;\n  height: auto;\n  "]);return F=function(){return e},e}var P=v.a.img(F()),J=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(h.b,{className:"navbar-item",to:"/"},r.a.createElement(P,{src:f.a})),r.a.createElement("button",{className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"upper-navbar"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"upper-navbar",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(h.b,{to:"/",className:"navbar-item"},"Home"))))}}]),a}(n.Component);function V(e){switch(e.category){case"movie":return r.a.createElement(W,{data:e.data,isLoading:e.isLoading});case"tv":return r.a.createElement(B,{data:e.data,isLoading:e.isLoading});case"person":return r.a.createElement(R,{data:e.data,isLoading:e.isLoading,lastMovie:e.lastMovie});default:return alert("Ocorreu um erro"),r.a.createElement("p",null,"Contacte o administrador")}}var Y=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,data:null,error:!1,id:n.props.match.params.id,category:n.props.match.url.split("/")[1]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(D.a)(C.a.mark((function e(){var t,a,n,r=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",n={},N.get("".concat(this.state.category,"/").concat(this.state.id),{params:Object(O.a)({},w)}).then((function(e){a=e.data.poster_path||e.data.profile_path,t=a?"https://image.tmdb.org/t/p/w500".concat(a):"/unavailable.jpg",e.data.poster_url=t,"person"===r.state.category&&N.get("person/".concat(r.state.id,"/movie_credits"),{params:Object(O.a)({},w)}).then((function(e){n=e.data.cast.reduce((function(e,t){return Date.parse(e.release_date)>Date.parse(t.release_date)?e:t})),r.setState(Object(O.a)({},r.state,{},{last_movie:Object(O.a)({},n)}))})).catch((function(e){alert("ocorreu um erro"),console.log(e)})),r.setState(Object(O.a)({},r.state,{},{isLoading:!1,data:e.data}))})).catch((function(e){r.setState(Object(O.a)({},r.state,{},{isLoading:!1,data:e,error:!0}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(J,null),r.a.createElement(V,{category:this.state.category,data:this.state.data,isLoading:this.state.isLoading,lastMovie:this.state.last_movie}))}}]),a}(n.Component),$=Object(m.f)(Y),z=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:S}),r.a.createElement(m.a,{path:"/movie/:id",component:$}),r.a.createElement(m.a,{path:"/tv/:id",component:$}),r.a.createElement(m.a,{path:"/person/:id",component:$})))}}]),a}(n.Component),G=(a(68),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(h.a,{basename:"/maxtracktest"},r.a.createElement(z,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/maxtracktest",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/maxtracktest","/service-worker.js");G?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()}},[[40,1,2]]]);
//# sourceMappingURL=main.6877c3c0.chunk.js.map