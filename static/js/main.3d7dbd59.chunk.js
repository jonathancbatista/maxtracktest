(this["webpackJsonpjohn-maxtrack-test"]=this["webpackJsonpjohn-maxtrack-test"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logo.86ff7c17.svg"},18:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNEBCAgICAkICQoKCQ0ODA4NExEQEBETHBQWFBYUHCsbHxsbHxsrJi4lIyUuJkQ1Ly81RE5CPkJOX1VVX3dxd5yc0f/CABEIAJYAaAMBIgACEQEDEQH/xAAaAAEAAwEBAQAAAAAAAAAAAAAAAQQFAgMH/9oACAEBAAAAAPp3QAaWbIAXqEgBfz5AC/nyAGhnSAGjmy66lDzNHNl7entW77pGjm+9jpEc+lX0q6Gd13ySmHGhnSAF/PkAL+fIAXqEgBdoyAF2jIAXaMgBdzoADT0OQAs//8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQIQAAAAoJQSglBKABKAAAQD/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQMQAAAAgLAWAsBYCwACwFAAP//EADAQAAEDAQQJAwQDAQAAAAAAAAEAAgMRBRIxcQQTFCEwMjNRUjRykRAiscEgQWKB/9oACAEBAAE/AGtbdG4YBXW9h8K63sPhXW9h8K6OwV0dgqDsFQdgqDsFdHYKg7BUHYKynXZZwBi1n5KbyjIcSzfUPP8AlqbyjIcSzes/2j8lN5RkOJZ3WfkEMBlxLO6j8ghgOJZ3UchgPqxj3m61pJohDKXlurdUbzuTYZXOc0MNRihBMQXBhoKhGKQMa4tNDgpIZI6X2Fv8LO6jkMBl9YJRE5xIrVhHyEJw8SNkqLwbyjC6m6VGZXvdW4Q37S0OBu90JGBk7Q0i+QR8p80boYmitWjxH5xWk6QyYfa0g6xxzB/vP+FndRyGAyUDGyTMa7A1UMERdo2sBuva8uoe1UdEYJ42CpFy875KGiMMksdd7Xg1rixM0ZskUsjQcSWb/FMgjJ0cEH743k5gFaLowlMl4GgAH/StH0aN8Zvg3r7mgA0NQE+MCGJ4B33qrS444pLjB9LO6r8ghgMggSCCCQUZZHOvGRxIGNUZHkb3u5aYnDstY/zdy0xOHZB7xdo926tKHBCSQFpD3bsCCRRGSQ4vdjXEnetdLRw1r/uJJ34layS5cvuu+NTRPkkkpfe52ZJpX6Wd1X5BDAZcSzes/wBo/JQwGXEs3rPyCbyjIcSzevJ7WpvKMhxLN9TJ7WftN5RkOJZvqZPaz9pvKMhxLN9TJ7WftN5RkOJZvqZPaz9pzww3SCtcPFy1w8XLXDxctcPFy1w8XLXDxctcPFy1w8XLXDxctcPFy1w8XKzATK9/9FoHxVO0GIuK2CFbBCtghWwQrYIVsEK2CFbBCtghWwQrYIVDo7I+Vf/EABgRAAMBAQAAAAAAAAAAAAAAAAEgQUBQ/9oACAECAQE/AMgriuLxP//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8ADf/Z"},41:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(35),c=a.n(i),l=a(1),o=a(2),s=a(3),u=a(4),m=a(5),d=(a(46),a(13)),A=a(10),p=a(7),h=a(11),b=a(17),v=a.n(b);function g(){var e=Object(A.a)(["\n  min-width:300px;\n  width: 70vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return g=function(){return e},e}var E=h.a.img(g()),f=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section hero is-light"},r.a.createElement("div",{className:"container content"},r.a.createElement(p.b,{to:"/",className:"title"},r.a.createElement("figure",{className:"image"},r.a.createElement(E,{src:v.a,alt:"The Movie Data Base"}))),r.a.createElement("h2",{className:"subtitle is-4"},"Explore a maior base de Filmes e S\xe9ries do mundo.")))}}]),a}(n.Component),j=a(12),O=a(39),y={api_key:"45129d55e5eafcb9c7e856e9b77837d9",include_adult:!1},w=a.n(O).a.create({baseURL:"https://api.themoviedb.org/3/"}),N=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={query:""},n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.updateInput=n.updateInput.bind(Object(d.a)(n)),n}return Object(o.a)(a,[{key:"updateInput",value:function(e){this.setState({query:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),w.get("search/multi",{params:Object(j.a)({},y,{query:this.state.query,page:1,include_adult:!1})}).then((function(e){t.props.handleSubmit(e.data.results)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"section columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"container has-text-centered content"},r.a.createElement("h5",null,"Busque um filme, s\xe9rie ou artista"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field has-addons has-addons-centered"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.updateInput,className:"input is-medium is-rounded",type:"text",name:"busca",placeholder:"Digite algo..."})),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"button is-warning is-medium is-rounded",type:"submit",value:"Buscar"})))))))}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.mediaData;return r.a.createElement("div",{className:"media"},r.a.createElement(p.b,{to:e.mediaLink},r.a.createElement("figure",{className:"media-left"},r.a.createElement("p",{className:"image is-64x64"},r.a.createElement("img",{src:e.mediaImg,alt:e.mediaAlt})))),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,r.a.createElement(p.b,{to:e.mediaLink},r.a.createElement("strong",null,e.mediaTitle)),r.a.createElement("br",null),r.a.createElement("small",null,e.mediaSubtitle),r.a.createElement("br",null),e.mediaContent))),r.a.createElement("div",{className:"media-right"},r.a.createElement(p.b,{to:e.mediaLink},r.a.createElement("button",{className:"button is-small is-warning"},"Veja mais"))))}}]),a}(n.Component),Q=a(18),C=a.n(Q),B=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.filmData.map((function(e,t){e.img=e.poster_path||e.profile_path?"https://image.tmdb.org/t/p/w92"+(e.poster_path||e.profile_path):C.a,e.displayTitle=e.title||e.name;var a={mediaImg:e.img,mediaAlt:"".concat(e.displayTitle," Poster"),mediaTitle:e.displayTitle,mediaSubtitle:e.media_type,mediaContent:e.overview,mediaLink:"/".concat(e.media_type,"/").concat(e.id)};return r.a.createElement(k,{mediaData:a,key:t})}));return r.a.createElement("section",{className:"section container content"},e)}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleHomeSubmit=n.handleHomeSubmit.bind(Object(d.a)(n)),n.state={loading:!1,error:null,films:[]},n}return Object(o.a)(a,[{key:"handleHomeSubmit",value:function(e){this.setState({films:e})}},{key:"render",value:function(){var e=this.state.films;return r.a.createElement(n.Fragment,null,r.a.createElement(f,null),r.a.createElement(N,{handleSubmit:this.handleHomeSubmit}),r.a.createElement(B,{filmData:e}))}}]),a}(n.Component),S=a(23),L=a.n(S),D=a(40),M=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section has-text-centered"},r.a.createElement("div",{className:"loading"},r.a.createElement("div",null),r.a.createElement("div",null)))}}]),a}(n.Component);function I(){var e=Object(A.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return I=function(){return e},e}var R=h.a.img(I()),J=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data;return this.props.isLoading?r.a.createElement(M,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(R,{src:e.poster_url,alt:e.title,className:"is-pulled-right"}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,r.a.createElement("b",null,"Lan\xe7amento"),": ",e.release_date),r.a.createElement("p",null,r.a.createElement("b",null,"Avalia\xe7\xe3o"),": ",e.vote_average)))}}]),a}(n.Component);function F(){var e=Object(A.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return F=function(){return e},e}var H=h.a.img(F()),W=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data;return this.props.isLoading?r.a.createElement(M,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(H,{src:e.poster_url,alt:e.name,className:"is-pulled-right"}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,r.a.createElement("b",null,"Lan\xe7amento:")," ",e.first_air_date),r.a.createElement("p",null,r.a.createElement("b",null,"N\xfamero de temporadas:")," ",e.number_of_seasons)))}}]),a}(n.Component);function X(){var e=Object(A.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return X=function(){return e},e}var _=h.a.img(X());var G=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e&&function(e){var t=Date.now()-e,a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}(Date.parse(e.birthday)),a=this.props.lastMovie;return this.props.isLoading?r.a.createElement(M,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(_,{src:e.poster_url,alt:e.name,className:"is-pulled-right"}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,r.a.createElement("b",null,"Idade:")," ",t),r.a.createElement("p",null,r.a.createElement("b",null,"\xdaltimo filme:"),a&&a.original_title)))}}]),a}(n.Component);function K(){var e=Object(A.a)(["\n  width:112px;\n  height: auto;\n  "]);return K=function(){return e},e}var Z=h.a.img(K()),P=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(p.b,{className:"navbar-item",to:"/"},r.a.createElement(Z,{src:v.a})),r.a.createElement("button",{className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"upper-navbar"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"upper-navbar",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(p.b,{to:"/",className:"navbar-item"},"Home"))))}}]),a}(n.Component);function U(e){switch(e.category){case"movie":return r.a.createElement(J,{data:e.data,isLoading:e.isLoading});case"tv":return r.a.createElement(W,{data:e.data,isLoading:e.isLoading});case"person":return r.a.createElement(G,{data:e.data,isLoading:e.isLoading,lastMovie:e.lastMovie});default:return alert("Ocorreu um erro"),r.a.createElement("p",null,"Contacte o administrador")}}var T=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,data:null,error:!1,id:n.props.match.params.id,category:n.props.match.url.split("/")[1]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(D.a)(L.a.mark((function e(){var t,a,n,r=this;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",n={},w.get("".concat(this.state.category,"/").concat(this.state.id),{params:Object(j.a)({},y)}).then((function(e){a=e.data.poster_path||e.data.profile_path,t=a?"https://image.tmdb.org/t/p/w500".concat(a):C.a,e.data.poster_url=t,"person"===r.state.category&&w.get("person/".concat(r.state.id,"/movie_credits"),{params:Object(j.a)({},y)}).then((function(e){n=e.data.cast.reduce((function(e,t){return Date.parse(e.release_date)>Date.parse(t.release_date)?e:t})),r.setState(Object(j.a)({},r.state,{},{last_movie:Object(j.a)({},n)}))})).catch((function(e){alert("ocorreu um erro"),console.log(e)})),r.setState(Object(j.a)({},r.state,{},{isLoading:!1,data:e.data}))})).catch((function(e){r.setState(Object(j.a)({},r.state,{},{isLoading:!1,data:e,error:!0}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(U,{category:this.state.category,data:this.state.data,isLoading:this.state.isLoading,lastMovie:this.state.last_movie}))}}]),a}(n.Component),Y=Object(m.f)(T),q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:x}),r.a.createElement(m.a,{path:"/movie/:id",component:Y}),r.a.createElement(m.a,{path:"/tv/:id",component:Y}),r.a.createElement(m.a,{path:"/person/:id",component:Y})))}}]),a}(n.Component),z=(a(69),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function V(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(p.a,{basename:"/maxtracktest"},r.a.createElement(q,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/maxtracktest",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/maxtracktest","/service-worker.js");z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):V(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):V(t,e)}))}}()}},[[41,1,2]]]);
//# sourceMappingURL=main.3d7dbd59.chunk.js.map