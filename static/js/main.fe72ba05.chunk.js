(this["webpackJsonpjohn-maxtrack-test"]=this["webpackJsonpjohn-maxtrack-test"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logo.86ff7c17.svg"},40:function(e,t,a){e.exports=a(69)},45:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(34),c=a.n(i),l=a(1),s=a(2),o=a(3),m=a(4),u=a(5),d=(a(45),a(13)),p=a(10),b=a(7),h=a(11),v=a(17),E=a.n(v);function f(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 70vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return f=function(){return e},e}var g=h.a.img(f()),j=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section hero is-light"},r.a.createElement("div",{className:"container content"},r.a.createElement(b.b,{to:"/",className:"title"},r.a.createElement("figure",{className:"image"},r.a.createElement(g,{src:E.a,alt:"The Movie Data Base"}))),r.a.createElement("h2",{className:"subtitle is-4"},"Explore a maior base de Filmes e S\xe9ries do mundo.")))}}]),a}(n.Component),O=a(12),y=a(38),N={api_key:"45129d55e5eafcb9c7e856e9b77837d9",include_adult:!1},k=a.n(y).a.create({baseURL:"https://api.themoviedb.org/3/"}),_=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={query:""},n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.updateInput=n.updateInput.bind(Object(d.a)(n)),n}return Object(s.a)(a,[{key:"updateInput",value:function(e){this.setState({query:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),k.get("search/multi",{params:Object(O.a)({},N,{query:this.state.query,page:1,include_adult:!1})}).then((function(e){t.props.handleSubmit(e.data.results)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"section columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"container has-text-centered content"},r.a.createElement("h5",null,"Busque um filme, s\xe9rie ou artista"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field has-addons has-addons-centered"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.updateInput,className:"input is-medium is-rounded",type:"text",name:"busca",placeholder:"Digite algo..."})),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"button is-warning is-medium is-rounded",type:"submit",value:"Buscar"})))))))}}]),a}(n.Component),w=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.mediaData;return r.a.createElement("div",{className:"media"},r.a.createElement(b.b,{to:e.mediaLink},r.a.createElement("figure",{className:"media-left"},r.a.createElement("p",{className:"image is-64x64"},r.a.createElement("img",{src:e.mediaImg,alt:e.mediaAlt})))),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,r.a.createElement(b.b,{to:e.mediaLink},r.a.createElement("strong",null,e.mediaTitle)),r.a.createElement("br",null),r.a.createElement("small",null,e.mediaSubtitle),r.a.createElement("br",null),e.mediaContent))),r.a.createElement("div",{className:"media-right"},r.a.createElement(b.b,{to:e.mediaLink},r.a.createElement("button",{className:"button is-small is-warning"},"Veja mais"))))}}]),a}(n.Component),L=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.filmData.map((function(e,t){e.img=e.poster_path||e.profile_path?"https://image.tmdb.org/t/p/w92"+(e.poster_path||e.profile_path):"/unavailable.jpg",e.displayTitle=e.title||e.name;var a={mediaImg:e.img,mediaAlt:"".concat(e.displayTitle," Poster"),mediaTitle:e.displayTitle,mediaSubtitle:e.media_type,mediaContent:e.overview,mediaLink:"/".concat(e.media_type,"/").concat(e.id)};return r.a.createElement(w,{mediaData:a,key:t})}));return r.a.createElement("section",{className:"section container content"},e)}}]),a}(n.Component),S=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleHomeSubmit=n.handleHomeSubmit.bind(Object(d.a)(n)),n.state={loading:!1,error:null,films:[]},n}return Object(s.a)(a,[{key:"handleHomeSubmit",value:function(e){this.setState({films:e})}},{key:"render",value:function(){var e=this.state.films;return r.a.createElement("div",{className:"home"},r.a.createElement(j,null),r.a.createElement(_,{handleSubmit:this.handleHomeSubmit}),r.a.createElement(L,{filmData:e}))}}]),a}(n.Component),C=a(22),x=a.n(C),D=a(39),I=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"loading"},r.a.createElement("div",null),r.a.createElement("div",null)))}}]),a}(n.Component);function M(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return M=function(){return e},e}var T=h.a.img(M()),q=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.data;return this.props.isLoading?r.a.createElement(I,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(T,{src:e.poster_url,alt:e.title,className:"is-pulled-right"}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,r.a.createElement("b",null,"Lan\xe7amento"),": ",e.release_date),r.a.createElement("p",null,r.a.createElement("b",null,"Avalia\xe7\xe3o"),": ",e.vote_average)))}}]),a}(n.Component);function H(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return H=function(){return e},e}var A=h.a.img(H()),B=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.data;return this.props.isLoading?r.a.createElement(I,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(A,{src:e.poster_url,alt:e.name}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,r.a.createElement("b",null,"Lan\xe7amento:")," ",e.first_air_date),r.a.createElement("p",null,r.a.createElement("b",null,"N\xfamero de temporadas:")," ",e.number_of_seasons)))}}]),a}(n.Component);function F(){var e=Object(p.a)(["\n  min-width:300px;\n  width: 20vw;\n  height: auto;\n  padding: 1em;\n  margin: 1em auto;\n"]);return F=function(){return e},e}var J=h.a.img(F());var U=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e&&function(e){var t=Date.now()-e,a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}(Date.parse(e.birthday)),a=this.props.lastMovie;return this.props.isLoading?r.a.createElement(I,null):r.a.createElement("section",{className:"section columns container"},r.a.createElement("div",{className:"column is-1-4"},r.a.createElement("figure",null,r.a.createElement(J,{src:e.poster_url,alt:e.name}))),r.a.createElement("div",{className:"column is-1-4 content"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,r.a.createElement("b",null,"Idade:")," ",t),r.a.createElement("p",null,r.a.createElement("b",null,"\xdaltimo filme:"),a&&a.original_title)))}}]),a}(n.Component);function P(){var e=Object(p.a)(["\n  width:112px;\n  height: auto;\n  "]);return P=function(){return e},e}var R=h.a.img(P()),V=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(b.b,{className:"navbar-item",to:"/"},r.a.createElement(R,{src:E.a})),r.a.createElement("button",{className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"upper-navbar"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"upper-navbar",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(b.b,{to:"/",className:"navbar-item"},"Home"))))}}]),a}(n.Component);function Y(e){switch(e.category){case"movie":return r.a.createElement(q,{data:e.data,isLoading:e.isLoading});case"tv":return r.a.createElement(B,{data:e.data,isLoading:e.isLoading});case"person":return r.a.createElement(U,{data:e.data,isLoading:e.isLoading,lastMovie:e.lastMovie});default:return alert("Ocorreu um erro"),r.a.createElement("p",null,"Contacte o administrador")}}var z=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,data:null,error:!1,id:n.props.match.params.id,category:n.props.match.url.split("/")[1]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t,a,n,r=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",n={},k.get("".concat(this.state.category,"/").concat(this.state.id),{params:Object(O.a)({},N)}).then((function(e){a=e.data.poster_path||e.data.profile_path,t=a?"https://image.tmdb.org/t/p/w500".concat(a):"/unavailable.jpg",e.data.poster_url=t,"person"===r.state.category&&k.get("person/".concat(r.state.id,"/movie_credits"),{params:Object(O.a)({},N)}).then((function(e){n=e.data.cast.reduce((function(e,t){return Date.parse(e.release_date)>Date.parse(t.release_date)?e:t})),r.setState(Object(O.a)({},r.state,{},{last_movie:Object(O.a)({},n)}))})).catch((function(e){alert("ocorreu um erro"),console.log(e)})),r.setState(Object(O.a)({},r.state,{},{isLoading:!1,data:e.data}))})).catch((function(e){r.setState(Object(O.a)({},r.state,{},{isLoading:!1,data:e,error:!0}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement(Y,{category:this.state.category,data:this.state.data,isLoading:this.state.isLoading,lastMovie:this.state.last_movie}))}}]),a}(n.Component),G=Object(u.f)(z),K=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:S}),r.a.createElement(u.a,{path:"/movie/:id",component:G}),r.a.createElement(u.a,{path:"/tv/:id",component:G}),r.a.createElement(u.a,{path:"/person/:id",component:G})))}}]),a}(n.Component);a(68);c.a.render(r.a.createElement(b.a,null,r.a.createElement(K,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.fe72ba05.chunk.js.map